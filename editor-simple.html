<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®€åŒ–ç‰ˆç¼–è¾‘å™¨æµ‹è¯•</title>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
            margin-bottom: 30px;
        }
        .editor-wrapper {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        #editor-container {
            min-height: 400px;
            background: white;
        }
        .buttons {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }
        button {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background: #5568d3;
        }
        .output {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        .output h3 {
            margin-top: 0;
        }
        .output pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>ğŸ“ ç®€åŒ–ç‰ˆ Quill ç¼–è¾‘å™¨æµ‹è¯•</h1>
    
    <div class="editor-wrapper">
        <h2>ç¼–è¾‘å™¨</h2>
        <div id="editor-container"></div>
        
        <div class="buttons">
            <button onclick="getContent()">è·å–å†…å®¹</button>
            <button onclick="setContent()">è®¾ç½®ç¤ºä¾‹å†…å®¹</button>
            <button onclick="clearContent()">æ¸…ç©ºå†…å®¹</button>
        </div>
    </div>
    
    <div class="output" id="output" style="display: none;">
        <h3>HTML è¾“å‡ºï¼š</h3>
        <pre id="html-output"></pre>
    </div>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script>
        let quill;
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆ');
            
            // æ£€æŸ¥ Quill æ˜¯å¦åŠ è½½
            if (typeof Quill === 'undefined') {
                alert('âŒ Quill åº“æœªåŠ è½½ï¼è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥ã€‚');
                return;
            }
            
            console.log('Quill åº“å·²åŠ è½½ï¼Œç‰ˆæœ¬ï¼š', Quill.version);
            
            // åˆå§‹åŒ–ç¼–è¾‘å™¨
            try {
                quill = new Quill('#editor-container', {
                    theme: 'snow',
                    modules: {
                        toolbar: [
                            [{ 'header': [1, 2, 3, false] }],
                            ['bold', 'italic', 'underline', 'strike'],
                            [{ 'color': [] }, { 'background': [] }],
                            [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                            ['blockquote', 'code-block'],
                            ['link', 'image'],
                            ['clean']
                        ]
                    },
                    placeholder: 'åœ¨è¿™é‡Œè¾“å…¥å†…å®¹...'
                });
                
                console.log('âœ… Quill ç¼–è¾‘å™¨åˆå§‹åŒ–æˆåŠŸï¼');
                
                // è®¾ç½®åˆå§‹å†…å®¹
                quill.root.innerHTML = '<h1>æ¬¢è¿ä½¿ç”¨ Quill ç¼–è¾‘å™¨</h1><p>è¿™æ˜¯ä¸€ä¸ª<strong>å¯Œæ–‡æœ¬</strong>ç¼–è¾‘å™¨æµ‹è¯•é¡µé¢ã€‚</p><p>ä½ å¯ä»¥ï¼š</p><ul><li>è®¾ç½®æ–‡å­—æ ¼å¼</li><li>æ’å…¥å›¾ç‰‡å’Œé“¾æ¥</li><li>åˆ›å»ºåˆ—è¡¨</li></ul>';
                
            } catch (error) {
                console.error('âŒ åˆå§‹åŒ–å¤±è´¥ï¼š', error);
                alert('ç¼–è¾‘å™¨åˆå§‹åŒ–å¤±è´¥ï¼š' + error.message);
            }
        });
        
        function getContent() {
            if (!quill) {
                alert('ç¼–è¾‘å™¨æœªåˆå§‹åŒ–');
                return;
            }
            const html = quill.root.innerHTML;
            document.getElementById('html-output').textContent = html;
            document.getElementById('output').style.display = 'block';
            console.log('HTML å†…å®¹ï¼š', html);
        }
        
        function setContent() {
            if (!quill) {
                alert('ç¼–è¾‘å™¨æœªåˆå§‹åŒ–');
                return;
            }
            quill.root.innerHTML = '<h2>è¿™æ˜¯ç¤ºä¾‹å†…å®¹</h2><p>åŒ…å«<strong>ç²—ä½“</strong>ã€<em>æ–œä½“</em>å’Œ<u>ä¸‹åˆ’çº¿</u>ã€‚</p><blockquote>è¿™æ˜¯ä¸€æ®µå¼•ç”¨</blockquote>';
            console.log('å·²è®¾ç½®ç¤ºä¾‹å†…å®¹');
        }
        
        function clearContent() {
            if (!quill) {
                alert('ç¼–è¾‘å™¨æœªåˆå§‹åŒ–');
                return;
            }
            quill.setText('');
            document.getElementById('output').style.display = 'none';
            console.log('å·²æ¸…ç©ºå†…å®¹');
        }
    </script>
</body>
</html>
