# 📋 智能粘贴图片指南

## ✨ 新功能：智能粘贴

现在编辑器支持自动识别并转换多种图片链接格式！

## 🎯 支持的格式

### 1. Markdown 格式（推荐）
```markdown
![图片描述](https://example.com/image.jpg)
```
或
```markdown
![](https://example.com/image.jpg)
```

### 2. HTML 格式
```html
<img src="https://example.com/image.jpg" alt="图片描述">
```
或
```html
<img src="https://example.com/image.jpg">
```

### 3. BBCode 格式
```
[img]https://example.com/image.jpg[/img]
```

### 4. 纯 URL 格式
```
https://example.com/image.jpg
https://example.com/photo.png
https://example.com/pic.gif
```

**支持的图片扩展名：**
- `.jpg` / `.jpeg`
- `.png`
- `.gif`
- `.webp`
- `.svg`
- `.bmp`

## 📝 使用方法

### 方式 1：从图床复制 Markdown 格式

1. **上传图片到 SM.MS**
   - 访问 https://sm.ms
   - 上传图片

2. **复制 Markdown 链接**
   - 点击 "Markdown" 格式
   - 复制：`![](https://s2.loli.net/2024/01/01/abc.jpg)`

3. **直接粘贴到编辑器**
   - 在编辑器中按 `Ctrl+V`
   - 自动转换为图片！✨

### 方式 2：从网页复制 HTML

1. **在网页上右键图片**
   - 选择"复制图片地址"或"检查元素"

2. **复制 HTML 代码**
   - 例如：`<img src="https://example.com/image.jpg">`

3. **粘贴到编辑器**
   - 自动识别并插入图片！

### 方式 3：直接粘贴 URL

1. **复制图片 URL**
   - 例如：`https://example.com/image.jpg`

2. **粘贴到编辑器**
   - 自动识别并插入！

## 🎬 完整演示

### 示例 1：SM.MS 图床

```
1. 上传图片到 SM.MS
   ↓
2. 点击 "Markdown" 复制
   复制：![](https://s2.loli.net/2024/01/01/example.jpg)
   ↓
3. 在编辑器中 Ctrl+V 粘贴
   ↓
4. 自动转换为图片！✅
```

### 示例 2：Imgur 图床

```
1. 上传图片到 Imgur
   ↓
2. 右键图片 → 复制图片地址
   复制：https://i.imgur.com/abc123.jpg
   ↓
3. 在编辑器中 Ctrl+V 粘贴
   ↓
4. 自动转换为图片！✅
```

### 示例 3：GitHub 图床

```
1. 上传图片到 GitHub 仓库
   ↓
2. 复制 jsDelivr CDN 链接
   复制：https://cdn.jsdelivr.net/gh/user/repo/image.jpg
   ↓
3. 在编辑器中 Ctrl+V 粘贴
   ↓
4. 自动转换为图片！✅
```

## 🔥 批量插入

智能粘贴支持一次插入多张图片！

### 示例：粘贴多个 Markdown 链接

```markdown
![图片1](https://example.com/image1.jpg)
![图片2](https://example.com/image2.jpg)
![图片3](https://example.com/image3.jpg)
```

**粘贴后：**
- 自动插入 3 张图片
- 图片之间自动换行
- 显示提示："✅ 已插入 3 张图片"

## 💡 使用技巧

### 技巧 1：推荐使用 Markdown 格式

**原因：**
- 最简洁
- 图床通常提供 Markdown 格式
- 可以添加图片描述

**示例：**
```markdown
![我的照片](https://example.com/photo.jpg)
```

### 技巧 2：URL 格式最通用

**适用场景：**
- 任何图床
- 任何图片链接
- 最简单

**示例：**
```
https://example.com/image.jpg
```

### 技巧 3：HTML 格式最灵活

**适用场景：**
- 需要设置图片属性
- 从网页复制

**示例：**
```html
<img src="https://example.com/image.jpg" alt="描述" width="600">
```

## 🎯 各图床推荐格式

| 图床 | 推荐格式 | 示例 |
|-----|---------|------|
| **SM.MS** | Markdown | `![](https://s2.loli.net/2024/01/01/abc.jpg)` |
| **Imgur** | URL | `https://i.imgur.com/abc123.jpg` |
| **路过图床** | Markdown | `![](https://imgse.com/i/abc123)` |
| **GitHub** | URL | `https://cdn.jsdelivr.net/gh/user/repo/img.jpg` |
| **七牛云** | URL | `https://cdn.example.com/image.jpg` |

## ⚙️ 工作原理

### 自动检测流程

```
1. 监听粘贴事件
   ↓
2. 获取粘贴的文本
   ↓
3. 使用正则表达式检测格式
   ↓
4. 提取图片 URL
   ↓
5. 阻止默认粘贴
   ↓
6. 插入图片到编辑器
   ↓
7. 显示成功提示
```

### 检测优先级

1. **Markdown** - `![alt](url)`
2. **HTML** - `<img src="url">`
3. **BBCode** - `[img]url[/img]`
4. **纯 URL** - `https://example.com/image.jpg`

## 🔍 常见问题

### Q1: 粘贴后没有自动转换？

**检查：**
- 链接格式是否正确？
- URL 是否以图片扩展名结尾？
- 是否在编辑器中粘贴？

**解决：**
- 确保 URL 包含 `.jpg`、`.png` 等扩展名
- 或使用 Markdown/HTML 格式

### Q2: 支持哪些图片格式？

**支持：**
- `.jpg` / `.jpeg`
- `.png`
- `.gif`
- `.webp`
- `.svg`
- `.bmp`

**不支持：**
- 视频文件
- 其他文件类型

### Q3: 可以粘贴多张图片吗？

**可以！**
- 一次粘贴多个 Markdown 链接
- 一次粘贴多个 HTML 标签
- 一次粘贴多个 URL

### Q4: 粘贴的图片会被压缩吗？

**不会！**
- 智能粘贴只插入图片链接
- 不会下载或压缩图片
- 图片存储在图床上，不占用 localStorage

### Q5: 如果 URL 没有扩展名怎么办？

**使用 Markdown 或 HTML 格式：**
```markdown
![](https://example.com/image?id=123)
```
或
```html
<img src="https://example.com/image?id=123">
```

## 📊 对比：传统方式 vs 智能粘贴

### 传统方式
```
1. 复制图片 URL
2. 点击编辑器图片按钮
3. 粘贴 URL
4. 按回车确认
```
**步骤：4 步**

### 智能粘贴
```
1. 复制 Markdown/HTML/URL
2. 在编辑器中 Ctrl+V
```
**步骤：2 步** ⚡

**效率提升：50%！**

## 🎊 总结

### ✅ 优势

1. **支持多种格式**
   - Markdown、HTML、BBCode、URL

2. **自动识别转换**
   - 无需手动操作
   - 一键粘贴即可

3. **批量插入**
   - 一次粘贴多张图片
   - 自动换行

4. **不占用空间**
   - 图片存储在图床
   - 不占用 localStorage

5. **提高效率**
   - 减少操作步骤
   - 更快的工作流程

### 🎯 推荐工作流程

```
1. 上传图片到图床（SM.MS）
   ↓
2. 复制 Markdown 格式
   ↓
3. 在编辑器中粘贴
   ↓
4. 自动插入图片
   ↓
5. 继续编辑
```

---

**💡 提示：** 使用图床 + 智能粘贴 = 最佳体验！
