# 分类管理功能说明

## 功能概述

分类管理模块允许管理员动态管理博客文章的分类，无需修改代码即可添加、重命名或删除分类。

## 功能特性

### 1. 添加新分类
- 在编辑器页面点击分类选择框旁的 ⚙️ 按钮
- 输入新分类名称（最多20个字符）
- 点击"添加"按钮或按回车键
- 系统会检查分类是否已存在，避免重复

### 2. 重命名分类
- 点击分类项右侧的 ✏️ 按钮
- 输入新的分类名称
- 系统会自动更新所有使用该分类的文章
- 显示更新的文章数量

### 3. 删除分类
- 点击分类项右侧的 🗑️ 按钮
- 确认删除操作
- 系统会检查该分类下是否有文章
- 如果有文章，将无法删除（需要先移动或删除文章）

### 4. 查看分类统计
- 每个分类显示包含的文章数量
- 帮助管理员了解内容分布

## 使用场景

### 场景 1：添加新的内容方向
当你想开始写新类型的文章时：
1. 打开文章编辑器
2. 点击分类管理按钮
3. 添加新分类（如"摄影"、"旅行"等）
4. 新分类立即可用

### 场景 2：整理现有分类
当分类名称不够准确时：
1. 重命名分类（如"技术" → "前端开发"）
2. 系统自动更新所有相关文章
3. 前台和后台同步更新

### 场景 3：清理无用分类
当某个分类不再使用时：
1. 确保该分类下没有文章
2. 删除分类
3. 保持分类列表整洁

## 技术实现

### 数据存储
- 分类列表存储在 `localStorage` 的 `blogCategories` 键中
- 默认分类：技术、生活、随笔、教程

### 数据同步
- 重命名分类时自动更新所有文章的分类字段
- 前台和后台的分类筛选器动态加载
- 确保数据一致性

### 安全保护
- 不允许删除包含文章的分类
- 不允许创建重复的分类名称
- 输入验证和错误提示

## 文件说明

### js/categories.js
分类管理核心模块，包含：
- `getCategories()` - 获取所有分类
- `addCategory(name)` - 添加新分类
- `deleteCategory(name)` - 删除分类
- `renameCategory(oldName, newName)` - 重命名分类
- `getCategoryStats()` - 获取分类统计

### 相关文件
- `editor.html` - 分类管理界面
- `editor.js` - 分类管理交互逻辑
- `index.html` - 前台分类筛选
- `admin.html` - 后台分类筛选

## 注意事项

1. **删除限制**：无法删除包含文章的分类，需要先处理相关文章
2. **名称唯一**：分类名称必须唯一，不能重复
3. **自动同步**：重命名分类会自动更新所有相关文章
4. **长度限制**：分类名称最多20个字符
5. **数据持久化**：所有更改立即保存到 localStorage

## 最佳实践

1. **规划分类体系**：在开始写作前规划好分类结构
2. **保持简洁**：不要创建过多分类，建议5-10个
3. **命名清晰**：使用简短、明确的分类名称
4. **定期整理**：定期检查和优化分类结构
5. **备份数据**：重要操作前备份 localStorage 数据

## 未来扩展

可能的功能扩展：
- 分类排序功能
- 分类图标设置
- 分类描述字段
- 分类层级结构（父子分类）
- 批量移动文章到其他分类
- 分类合并功能

## 常见问题

**Q: 如何备份分类数据？**
A: 在浏览器控制台执行：
```javascript
console.log(localStorage.getItem('blogCategories'));
```

**Q: 如何恢复默认分类？**
A: 删除 localStorage 中的 `blogCategories` 键，刷新页面即可恢复默认分类。

**Q: 重命名分类会影响已发布的文章吗？**
A: 会自动更新所有使用该分类的文章，不会影响文章的其他内容。

**Q: 可以创建多少个分类？**
A: 理论上没有限制，但建议保持在10个以内以便管理。
